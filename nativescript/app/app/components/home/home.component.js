Object.defineProperty(exports, "__esModule", { value: true });
// libs
var core_1 = require("@angular/core");
var store_1 = require("@ngrx/store");
// app
var index_1 = require("../../modules/core/index");
var HomeComponent = (function () {
    function HomeComponent(store, routerext) {
        this.store = store;
        this.routerext = routerext;
        this.desiredWeekends = [];
        this.asOfDays = [];
        this.selectedDesiredDay = 0;
        this.selectedAsOfDay = 0;
    }
    HomeComponent.prototype.ngOnInit = function () {
        this.newName = '';
        this.ptoBalance = 0;
        var today = new Date();
        today.setDate(today.getDate() + (6 - today.getDay()));
        this.desiredWeekends.push(new Date(today));
        var tempDay = new Date(today);
        for (var i = 0; i < 5; i++) {
            tempDay.setDate(tempDay.getDate() + 7);
            this.desiredWeekends.push(new Date(tempDay));
        }
        tempDay = new Date(today);
        console.log("tempDay:", tempDay);
        console.log("today:", today);
        this.selectedDesiredDay = 0;
        for (var i = 0; i < 5; i++) {
            tempDay.setDate(tempDay.getDate() - 7);
            this.asOfDays.push(new Date(tempDay));
        }
        this.asOfDays = this.asOfDays.slice().reverse();
        this.selectedAsOfDay = this.asOfDays.length - 1;
        console.log("selectedDesiredDay:", this.selectedDesiredDay);
        console.log("selectedAsOfDay:", this.selectedAsOfDay);
    };
    /*
     * @param newname  any text as input.
     * @returns return false to prevent default form submit behavior to refresh the page.
     */
    HomeComponent.prototype.calculatePTO = function () {
        console.log("as of date:", this.asOfDate);
        console.log("desired date:", this.desiredDate);
        this.days = this.dateDiff(this.asOfDate, this.desiredDate);
        this.newBalance = (this.accrualRate * this.days / this.accrualPeriod);
        this.ptoBalance = +this.beginBalance + +this.newBalance;
        console.log("ptoBalance:", this.ptoBalance);
        return false;
    };
    HomeComponent.prototype.desiredDaysChanged = function (picker) {
        this.desiredDate = this.desiredWeekends[picker.selectedDesiredDay];
        this.calculatePTO();
    };
    HomeComponent.prototype.asOfDaysChanged = function (asOfDayPicker) {
        console.log("81: selectedAsOfDay:", asOfDayPicker.selectedAsOfDay);
        console.log("this.asOfDate:", this.asOfDays[asOfDayPicker.selectedAsOfDay]);
        this.asOfDate = this.asOfDays[asOfDayPicker.selectedAsOfDay];
        this.calculatePTO();
    };
    HomeComponent.prototype.dateDiff = function (date1, date2) {
        var d1 = new Date(date1);
        var d2 = new Date(date2);
        var milliseconds = +d2 - +d1;
        var days = milliseconds / (86400000);
        return days;
    };
    HomeComponent.prototype.readAbout = function () {
        // Try this in the {N} app
        // {N} can use these animation options
        this.routerext.navigate(['/about'], {
            transition: {
                duration: 1000,
                name: 'slideTop',
            }
        });
    };
    return HomeComponent;
}());
HomeComponent = __decorate([
    core_1.Component({
        moduleId: module.id,
        selector: 'sd-home',
        templateUrl: 'home.component.html',
        styleUrls: ['home.component.css']
    }),
    __metadata("design:paramtypes", [store_1.Store, index_1.RouterExtensions])
], HomeComponent);
exports.HomeComponent = HomeComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaG9tZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJob21lLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTztBQUNQLHNDQUF5RTtBQUN6RSxxQ0FBb0M7QUFHcEMsTUFBTTtBQUNOLGtEQUFvRTtBQVVwRSxJQUFhLGFBQWE7SUFrQnhCLHVCQUFvQixLQUF1QixFQUFTLFNBQTJCO1FBQTNELFVBQUssR0FBTCxLQUFLLENBQWtCO1FBQVMsY0FBUyxHQUFULFNBQVMsQ0FBa0I7UUFOeEUsb0JBQWUsR0FBVyxFQUFFLENBQUM7UUFDN0IsYUFBUSxHQUFXLEVBQUUsQ0FBQztRQUN0Qix1QkFBa0IsR0FBVyxDQUFDLENBQUM7UUFDL0Isb0JBQWUsR0FBVyxDQUFDLENBQUM7SUFHK0MsQ0FBQztJQUVuRixnQ0FBUSxHQUFSO1FBQ0UsSUFBSSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDbEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUM7UUFDcEIsSUFBSSxLQUFLLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN2QixLQUFLLENBQUMsT0FBTyxDQUFFLEtBQUssQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUUsQ0FBQyxDQUFDO1FBQ3pELElBQUksQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7UUFDM0MsSUFBSSxPQUFPLEdBQUcsSUFBSSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDOUIsR0FBRyxDQUFBLENBQUMsSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFFLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUN0QixPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsR0FBRyxDQUFDLENBQUMsQ0FBQztZQUMzQyxJ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Q0FBQztRQUN6QixJQUFJLEVBQUUsR0FBRyxJQUFJLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN6QixJQUFJLFlBQVksR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUM3QixJQUFJLElBQUksR0FBRyxZQUFZLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNyQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2QsQ0FBQztJQUVELGlDQUFTLEdBQVQ7UUFDRSwwQkFBMEI7UUFDMUIsc0NBQXNDO1FBQ3RDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDbEMsVUFBVSxFQUFFO2dCQUNWLFFBQVEsRUFBRSxJQUFJO2dCQUNkLElBQUksRUFBRSxVQUFVO2FBQ2pCO1NBQ0YsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUNELG9CQUFDO0FBQUQsQ0FBQyxBQXhGSCxJQXdGRztBQXhGVSxhQUFhO0lBTnpCLGdCQUFTLENBQUM7UUFDVCxRQUFRLEVBQUUsTUFBTSxDQUFDLEVBQUU7UUFDbkIsUUFBUSxFQUFFLFNBQVM7UUFDbkIsV0FBVyxFQUFFLHFCQUFxQjtRQUNsQyxTQUFTLEVBQUUsQ0FBQyxvQkFBb0IsQ0FBQztLQUNsQyxDQUFDO3FDQW1CMkIsYUFBSyxFQUErQix3QkFBZ0I7R0FsQnBFLGFBQWEsQ0F3RnZCO0FBeEZVLHNDQUFhIiwic291cmNlc0NvbnRlbnQiOlsiLy8gbGlic1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBWaWV3Q2hpbGQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdAbmdyeC9zdG9yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcy9PYnNlcnZhYmxlJztcblxuLy8gYXBwXG5pbXBvcnQgeyBSb3V0ZXJFeHRlbnNpb25zLCBDb25maWcgfSBmcm9tICcuLi8uLi9tb2R1bGVzL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgSUFwcFN0YXRlLCBnZXROYW1lcyB9IGZyb20gJy4uLy4uL21vZHVsZXMvbmdyeC9pbmRleCc7XG5pbXBvcnQgKiBhcyBuYW1lTGlzdCBmcm9tICcuLi8uLi9tb2R1bGVzL3NhbXBsZS9pbmRleCc7XG5cbkBDb21wb25lbnQoe1xuICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICBzZWxlY3RvcjogJ3NkLWhvbWUnLFxuICB0ZW1wbGF0ZVVybDogJ2hvbWUuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnaG9tZS5jb21wb25lbnQuY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgSG9tZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIHB1YmxpYyBuYW1lcyQ6IE9ic2VydmFibGU8YW55PjtcbiAgcHVibGljIG5ld05hbWU6IHN0cmluZztcblxuICBwdWJsaWMgYmVnaW5CYWxhbmNlOiBudW1iZXI7XG4gIHB1YmxpYyBhY2NydWFsUGVyaW9kOiBudW1iZXIgO1xuICBwdWJsaWMgYWNjcnVhbFJhdGU6IG51bWJlcjtcbiAgcHVibGljIGRlc2lyZWREYXRlOiBEYXRlO1xuICBwdWJsaWMgYXNPZkRhdGU6IERhdGU7XG4gIHB1YmxpYyBuZXdCYWxhbmNlOiBudW1iZXI7XG4gIHB1YmxpYyBkYXlzOiBudW1iZXI7XG4gIHB1YmxpYyBwdG9CYWxhbmNlOiBudW1iZXI7XG4gIHB1YmxpYyBkZXNpcmVkV2Vla2VuZHM6IERhdGVbXSA9IFtdO1xuICBwdWJsaWMgYXNPZkRheXM6IERhdGVbXSA9IFtdO1xuICBwdWJsaWMgc2VsZWN0ZWREZXNpcmVkRGF5OiBudW1iZXIgPSAwOyBcbiAgcHVibGljIHNlbGVjdGVkQXNPZkRheTogbnVtYmVyID0gMDtcbiAgXG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBzdG9yZTogU3RvcmU8SUFwcFN0YXRlPiwgcHVibGljIHJvdXRlcmV4dDogUm91dGVyRXh0ZW5zaW9ucykge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLm5ld05hbWUgPSAnJztcbiAgICB0aGlzLnB0b0JhbGFuY2UgPSAwO1xuICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7IFxuICAgIHRvZGF5LnNldERhdGUoIHRvZGF5LmdldERhdGUoKSArICggNiAtIHRvZGF5LmdldERheSgpICkpOyBcbiAgICB0aGlzLmRlc2lyZWRXZWVrZW5kcy5wdXNoKG5ldyBEYXRlKHRvZGF5KSk7XG4gICAgdmFyIHRlbXBEYXkgPSBuZXcgRGF0ZSh0b2RheSk7XG4gICAgZm9yKHZhciBpPTA7IGk8NTtpKyspIHtcbiAgICBcdHRlbXBEYXkuc2V0RGF0ZSh0ZW1wRGF5LmdldERhdGUoKSArIDcpOyBcblx0dGhpcy5kZXNpcmVkV2Vla2VuZHMucHVzaChuZXcgRGF0ZSh0ZW1wRGF5KSk7XG4gICAgfVxuICAgIHRlbXBEYXkgPSBuZXcgRGF0ZSh0b2RheSk7XG4gICAgY29uc29sZS5sb2coXCJ0ZW1wRGF5OlwiLCB0ZW1wRGF5KTtcbiAgICBjb25zb2xlLmxvZyhcInRvZGF5OlwiLCB0b2RheSk7XG4gICAgdGhpcy5zZWxlY3RlZERlc2lyZWREYXkgPSAwO1xuICAgIGZvcih2YXIgaT0wOyBpPDU7aSsrKSB7XG4gICAgXHR0ZW1wRGF5LnNldERhdGUodGVtcERheS5nZXREYXRlKCkgLSA3KTsgXG5cdHRoaXMuYXNPZkRheXMucHVzaChuZXcgRGF0ZSh0ZW1wRGF5KSk7XG4gICAgfVxuICAgIHRoaXMuYXNPZkRheXMgPSB0aGlzLmFzT2ZEYXlzLnNsaWNlKCkucmV2ZXJzZSgpO1xuICAgIHRoaXMuc2VsZWN0ZWRBc09mRGF5ID0gdGhpcy5hc09mRGF5cy5sZW5ndGggLTE7IFxuICAgIGNvbnNvbGUubG9nKFwic2VsZWN0ZWREZXNpcmVkRGF5OlwiLCB0aGlzLnNlbGVjdGVkRGVzaXJlZERheSk7XG4gICAgY29uc29sZS5sb2coXCJzZWxlY3RlZEFzT2ZEYXk6XCIsIHRoaXMuc2VsZWN0ZWRBc09mRGF5KTtcbiAgfVxuXG4gIC8qXG4gICAqIEBwYXJhbSBuZXduYW1lICBhbnkgdGV4dCBhcyBpbnB1dC5cbiAgICogQHJldHVybnMgcmV0dXJuIGZhbHNlIHRvIHByZXZlbnQgZGVmYXVsdCBmb3JtIHN1Ym1pdCBiZWhhdmlvciB0byByZWZyZXNoIHRoZSBwYWdlLlxuICAgKi9cbiAgY2FsY3VsYXRlUFRPKCk6IGJvb2xlYW4ge1xuICBjb25zb2xlLmxvZyhcImFzIG9mIGRhdGU6XCIsIHRoaXMuYXNPZkRhdGUpO1xuICBjb25zb2xlLmxvZyhcImRlc2lyZWQgZGF0ZTpcIiwgdGhpcy5kZXNpcmVkRGF0ZSk7XG4gICAgdGhpcy5kYXlzID0gdGhpcy5kYXRlRGlmZih0aGlzLmFzT2ZEYXRlLCB0aGlzLmRlc2lyZWREYXRlKTtcbiAgICB0aGlzLm5ld0JhbGFuY2UgPSAodGhpcy5hY2NydWFsUmF0ZSAqIHRoaXMuZGF5cyAvIHRoaXMuYWNjcnVhbFBlcmlvZCk7XG4gICAgdGhpcy5wdG9CYWxhbmNlID0gK3RoaXMuYmVnaW5CYWxhbmNlICsgK3RoaXMubmV3QmFsYW5jZTtcbiAgICBjb25zb2xlLmxvZyhcInB0b0JhbGFuY2U6XCIsIHRoaXMucHRvQmFsYW5jZSk7XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZGVzaXJlZERheXNDaGFuZ2VkKHBpY2tlcikge1xuICBcdHRoaXMuZGVzaXJlZERhdGUgPSB0aGlzLmRlc2lyZWRXZWVrZW5kc1twaWNrZXIuc2VsZWN0ZWREZXNpcmVkRGF5XTtcblx0dGhpcy5jYWxjdWxhdGVQVE8oKTtcbiAgfVxuICBhc09mRGF5c0NoYW5nZWQoYXNPZkRheVBpY2tlcikge1xuXHRjb25zb2xlLmxvZyhcIjgxOiBzZWxlY3RlZEFzT2ZEYXk6XCIsIGFzT2ZEYXlQaWNrZXIuc2VsZWN0ZWRBc09mRGF5KTtcblx0Y29uc29sZS5sb2coXCJ0aGlzLmFzT2ZEYXRlOlwiLCB0aGlzLmFzT2ZEYXlzW2FzT2ZEYXlQaWNrZXIuc2VsZWN0ZWRBc09mRGF5XSk7XG4gIFx0dGhpcy5hc09mRGF0ZSA9IHRoaXMuYXNPZkRheXNbYXNPZkRheVBpY2tlci5zZWxlY3RlZEFzT2ZEYXldO1xuXHR0aGlzLmNhbGN1bGF0ZVBUTygpO1xuICB9XG4gIFxuICBkYXRlRGlmZihkYXRlMSwgZGF0ZTIpe1xuICAgIHZhciBkMSA9IG5ldyBEYXRlKGRhdGUxKTsgXG4gICAgdmFyIGQyID0gbmV3IERhdGUoZGF0ZTIpOyBcbiAgICB2YXIgbWlsbGlzZWNvbmRzID0gK2QyIC0gK2QxOyBcbiAgICB2YXIgZGF5cyA9IG1pbGxpc2Vjb25kcyAvICg4NjQwMDAwMCk7IFxuICAgIHJldHVybiBkYXlzO1xuICB9XG4gXG4gIHJlYWRBYm91dCgpIHtcbiAgICAvLyBUcnkgdGhpcyBpbiB0aGUge059IGFwcFxuICAgIC8vIHtOfSBjYW4gdXNlIHRoZXNlIGFuaW1hdGlvbiBvcHRpb25zXG4gICAgdGhpcy5yb3V0ZXJleHQubmF2aWdhdGUoWycvYWJvdXQnXSwge1xuICAgICAgdHJhbnNpdGlvbjoge1xuICAgICAgICBkdXJhdGlvbjogMTAwMCxcbiAgICAgICAgbmFtZTogJ3NsaWRlVG9wJyxcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB9XG4iXX0=